
<!doctype html>
<html lang="en">
   <head>
           <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-LYVSDS633M"></script>
      <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());
         gtag('config', 'G-LYVSDS633M');
      </script>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>S&P 500 PE Ratio</title>
                    <!-- SEO Meta Tags start-->
        <meta name="description" content="Daily Updated S&P 500 PE Ratio">
        <meta name="keywords" content="pe ratio, sp500, index, valuation, fundamental analysis">
        <meta name="author" content="Regentquant">
        <meta name="language" content="English">
        <meta name="robots" content="index, follow">
      <!-- SEO Meta Tags end-->
      <link rel="icon" type="image/x-icon" href="favicon_1.png">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Saira+Condensed:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
      <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
      <link rel="stylesheet" href="chart-styles.css">
   </head>
   <body>
      <section>
         <img id="site-logo" src="regentquant-logo-two-colors.svg">
         <h1 class="chart-title">S&P 500 PE Ratio (Daily Update)</h1>
         <h2 class="go-back-to-home-screen"><a href="https://www.regentquant.com">Go Back To Home Screen</a></h2>
        <h2>Regentquant fetches the EPS of each individual stock daily to calculate the PE ratio, ensuring the data's accuracy.</h2>
      </section>
      <!-- Fund NAV Chart -->
      <div id="container"></div>
      <section id="footer"></section>
      <script type="text/javascript">
        // Lightweight Chartsâ„¢ Example: Two Price Scales
// https://tradingview.github.io/lightweight-charts/tutorials/how_to/two-price-scales

const chartOptions = {
	rightPriceScale: {
		visible: true,
	},
	leftPriceScale: {
		visible: true,
	},
	layout: {
		textColor: 'black',
		background: { type: 'solid', color: 'white' },
	},
	crosshair: {
		mode: 0, // CrosshairMode.Normal
	},
};
/** @type {import('lightweight-charts').IChartApi} */

const chart = LightweightCharts.createChart(document.getElementById('container'), chartOptions);

const candlestickSeries = chart.addCandlestickSeries({
	priceScaleId: 'left',
	upColor: '#26a69a', downColor: '#ef5350', borderVisible: false,
	wickUpColor: '#26a69a', wickDownColor: '#ef5350',
});

candlestickSeries.setData([
{time:'2023-11-24',open:4555.84,high:4560.31,low:4552.8,close:4559.33},
{time:'2023-11-27',open:4554.86,high:4560.52,low:4546.32,close:4550.44},
{time:'2023-11-28',open:4545.55,high:4568.14,low:4540.51,close:4554.9},
        {time:'2023-11-29',open:4571.84,high:4587.64,low:4547.15,close:4550.57},
        {time:'2023-11-30',open:4554.87,high:4569.89,low:4537.24,close:4567.81},{time:'2023-12-01',open:4559.43,high:4599.39,low:4554.71,close:4594.64},
        {time:'2023-12-04',open:4564.37,high:4572.37,low:4546.72,close:4569.77},{time:'2023-12-05',open:4557.25,high:4578.56,low:4551.68,close:4567.17},
        {time:'2023-12-06',open:4586.23,high:4590.74,low:4546.5,close:4549.35},{time:'2023-12-07',open:4568.83984375,high:4590.919921875,low:4565.22021484375,close:4585.58984375},{time:'2023-12-08',open:4576.2001953125,high:4609.22998046875,low:4574.06005859375,close:4604.3701171875},
]);

const lineSeries = chart.addLineSeries({ color: '#2962FF' });
const data = [
        {time:'2023-11-24',value:23.78},
{time:'2023-11-27',value:23.48},
{time:'2023-11-28',value:23.59},
        {time:'2023-11-29',value:23.62},
        {time:'2023-11-30',value:23.81},{time:'2023-12-01',value:24.1},{time:'2023-12-04',value:24.09},{time:'2023-12-05',value:23.94},{time:'2023-12-06',value:23.91},
{time:'2023-12-07',value:24.02},{time:'2023-12-08',value:24.12},
];

lineSeries.setData(data);



chart.timeScale().fitContent();

         chart.applyOptions({
                         layout: {
                             fontFamily: "'Saira Condensed', sans-serif",
                         },
                     });

         window.addEventListener('resize', resizeChart);

         function resizeChart() {
         const container = document.getElementById('container');
         chart.resize(
         container.offsetWidth,
         container.offsetHeight
         );
         }
         resizeChart();
         document.getElementById('download-chart').addEventListener('click', function() {
         const chartContainer = document.getElementById('container');

         html2canvas(chartContainer, {
         scale: 5  // Increase this value for higher resolution
         }).then(canvas => {
         const link = document.createElement('a');
         link.href = canvas.toDataURL('image/png');
         link.download = 'chart_high_res.png';
         link.click();
         });
         });

      </script>
   </body>
</html>
